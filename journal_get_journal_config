#!/bin/bash #dependency
# package:journal_cli
# @author Zeus Intuivo <zeus@intuivo.com>
#

# TODO . TO have this in an options box
JOURNAL_HOME="/Users/Sites" # <-- I used for mac
JOURNAL_HOME="${HOME}/Sites" # <-- I used for mac
JOURNAL_HOME="/_" # <-- I used for mac
JOURNAL_VERSION="1.0.0"
CURRENTDATE=`date +%Y%m%d`
CURRENT_LONG_DATE=`date`

JOURNAL_PROJECT_WORKING_ON=${PWD}

function msg_bullet() {
	echo -e "${blue23} • ${blue30} ${@} ${reset}"
}
function msg_error() {
	echo -e "${red} ERROR ! ${@} ${reset}"
}
function msg_red() {
	echo -e "${red} • ${orange209} ${@} ${reset}"
}
function msg_warning() {
	echo -e "${yellow220} WARNING ! ${@} ${reset}"
}
function pure_check() {
  local char string="${*}"
  local string_length="${#string}"     # bash get string length
  # echo "asdf"       | sed 's/./&,/2'  # how to a , in position two using sed
  local new_string=""
  while read -n 1 char ; do
      new_string="${char}."
  done <<< "${string}"
  if [[ "${string}" != "${new_string}" ]] ; then 
  {
    msg_error "Is not pure „${new_string}” ";
  }
  fi
  msg_bullet "„${string}” ";
}
function msg_quote() {
  local first_argument to_quote
  IFS='|' read -r first_argument to_quote <<< "${*}"
  msg_bullet "    - ${first_argument} „${to_quote}” ";
}

JOURNAL_DEBUG_PROCESS=0
[[ "${@}" == *"--version"* ]] && echo "${JOURNAL_VERSION}" && exit 0
[[ "${@}" == *"--help"* ]] &&  echo "usage: all journal commands [--help][--version][--debug]"
[[ "${@}" == *"--debug"* ]] && JOURNAL_DEBUG_PROCESS=1
(( $JOURNAL_DEBUG_PROCESS )) &&
(( $JOURNAL_DEBUG_PROCESS )) && echo -e "${voilet}JOURNAL_DEBUG_PROCESS${yellow220}:${green} ON ${yellow220}== ${blue32}${JOURNAL_DEBUG_PROCESS} ${yellow220}:"

load_struct_testing_wget(){
    local provider="/_/clis/execute_command_intuivo_cli/struct_testing"
    [   -e "${provider}"  ] && source "${provider}"
		( ( ! command -v type wget >/dev/null 2>&1; ) && echo -e "\n \n  ERROR! Loading struct_testing. You need wget installed \n \n " && exit 69; )
    [ ! -e "${provider}"  ] && eval """$(wget --quiet --no-check-certificate  https://raw.githubusercontent.com/zeusintuivo/execute_command_intuivo_cli/master/struct_testing -O -  2>/dev/null )"""   # suppress only wget download messages, but keep wget output for variable
    ( ( ! command -v type passed >/dev/null 2>&1; ) && echo -e "\n \n  ERROR! Loading struct_testing \n \n " && exit 69; )
} # end load_struct_testing_wget
load_struct_testing_wget


